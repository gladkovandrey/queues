# Простая система Kafka с Go

Система состоит из:
- **Kafka** - очередь сообщений (3 сервера)  
- **Producer** - отправляет сообщения на Go
- **Consumer** - читает сообщения на Go
- **Kafka UI** - веб-интерфейс для просмотра


## 1. Запустить Kafka

```bash
./start-kafka.sh
```

Подождать пока все запустится (примерно минуту).

## 2. Запустить приложения

```bash
./scale-apps.sh
```

Это запустит 1 продюсер и 1 консьюмер.

## 3. Посмотреть что происходит

- Открыть http://localhost:8180 - веб-интерфейс Kafka
- Посмотреть логи продюсера: `docker-compose -f docker-compose.apps.yml logs -f producer`
- Посмотреть логи консьюмера: `docker-compose -f docker-compose.apps.yml logs -f consumer`

## 4. Остановить все

```bash
./stop-all.sh
```

## Что делает продюсер?

Отправляет в Kafka простые сообщения каждую секунду:

```json
{
  "timestamp": "2025-01-12 15:30:45",
  "level": "INFO",
  "service": "user-service", 
  "message": "Пользователь вошел в систему"
}
```

## Что делает консьюмер?

Читает сообщения из Kafka и выводит их в цвете:
- Зеленый - INFO
- Желтый - WARN  
- Красный - ERROR

## Как изменить количество продюсеров/консьюмеров?

```bash
# 2 продюсера, 3 консьюмера
./scale-apps.sh -p 2 -c 3

# Только продюсеры (5 штук)
./scale-apps.sh -p 5 -c 0

# Только консьюмеры (3 штуки)
./scale-apps.sh -p 0 -c 3
```

